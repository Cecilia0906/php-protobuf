language: php

php:
    - 7.0
    - 7.1
    - nightly

script:
    - phpize
    - ./configure
    - make
    - php -n run-tests.php -n -d extension_dir=./modules/ -d extension=protobuf.so -p `phpenv which php` --show-diff --set-timeout 120
env:
- REPORT_EXIT_STATUS=1
notifications:
  slack:
    secure: ZtgcjTxhTxrzWW6MIHLRtucW/BMm42RKS3nGRtSfgER9rx7oJ0Y9gOYkh1FM0GsM7Z11Q/iDhWs/8WTccAV0PrMZ6KHaq54wGmfYyqwPM4YreUwQ87PnOW4wZbl0TJTeWutasEwZvnVJ8VEyyQcS2PHt0zlsENn0XWvobvaZ+FM=
